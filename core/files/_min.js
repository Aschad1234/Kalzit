String.prototype.startsWith=String.prototype.startsWith||function(e){return this.lastIndexOf(e,0)===0};Array.prototype.includes=Array.prototype.includes||function(e){return this.indexOf(e)>=0};this.GLang={returnFalse:function(){return false}};this.KNI=this.KNI||{hasStorage:GLang.returnFalse,hasSynchronousLoader:GLang.returnFalse,hasAsynchronousLoader:GLang.returnFalse};GLang.categorize=function(e,a){var n=true;function r(){n=!n;return n?"_":"__"}function t(e){for(var n=0;n<a.length;n++){var t=a[n];var i=t[1](e);if(i){return[t[0],i]}}return[r(),null]}var i=[null,null];var u=[];var l=[];for(var o=0;o<e.length;o++){var s=e[o];var v=t(s);if(v[0]===i[0]){u.push(s)}else{l.push([i[0],u,i[1]]);u=[s];i=v}}if(u.length>0){l.push([i[0],u,i[1]])}return l.slice(1)};GLang.tokenize=function(e){var a=0;var n=0;return GLang.categorize(e,[["Word",function(e){return e.match("[a-zA-Z_]")}],["Digit",function(e){return e.match("\\d")}],["Space",function(e){return e.match("\\s")}]]).map((function(e){var r={textValue:e[1].join(""),category:e[0]};var t=r.textValue.split("\n");n=t.length>1?t[t.length-1].length:n+r.textValue.length;a+=t.length-1;return r}))};(function(){var e=false;function a(){return{next:function(e){switch(e.category){case"Word":return c(e);case"Digit":return g(e);case"Space":return a()}switch(e.textValue){case"}":return t("",1);case"]":return i("",1);case")":return u("",1);case"'":return o("");case'"':return l("");case"`":return s();case"´":return s()}return L([a(),n(e)])},waiting:true,kind:"waiting"}}function n(e){return{special:e.textValue,kind:"special"}}function r(e,a,n){return function r(t,i){return{next:function(u){if(u.textValue===e){if(i===1){return n(t)}i-=1}else if(u.textValue===a){i+=1}return r(u.textValue+t,i)},kind:"depthBlock"}}}var t=r("{","}",(function(e){return L([a(),d(e)])}));var i=r("[","]",(function(e){return L([a(),{kind:"array",array:GLang.generateTree(e)}])}));var u=r("(",")",(function(n){var r=GLang.generateTree(n,e);if(e&&r.length==1){return L([a(),r[0]])}return L([a(),{kind:"parentheses",parentheses:r}])}));function l(e){return{next:function(n){if(n.textValue==='"')return L([a(),d(e)]);return l(n.textValue+e)},kind:"doubleQuoteBlock"}}function o(e){return{next:function(n){if(n.textValue==="'")return L([a(),d(e)]);return o(n.textValue+e)},kind:"singleQuoteBlock"}}function s(){return{next:function(e){if(e.textValue==="´"||e.textValue==="`")return a();return s()},kind:"commentBlock"}}function v(e){return{next:function(e){return this},error:e,kind:"error"}}function c(e){return{next:function(n){if(n.textValue==="$")return L([a(),d(e.textValue)]);return L([a(),this]).next(n)},name:e.textValue,kind:"name"}}function g(e){return{next:function(n){if(n.textValue===",")return f(e);if(n.textValue==="\\")return L([a(),h(this.num)]);return L([a(),this]).next(n)},num:parseInt(e.textValue),kind:"num"}}function f(e){return{next:function(n){if(n.category==="Digit")return L([a(),p(n,e)]);return v(n)},kind:"commaNumber"}}function p(e,n){return{next:function(e){if(e.textValue==="\\")return L([a(),h(this.num)]);return L([a(),this]).next(e)},num:parseFloat(e.textValue+"."+n.textValue),kind:"num"}}function h(e){return{kind:"num",num:-e}}function d(e){return{string:e,kind:"string"}}function L(e){return{next:function(a){var n=e[0].next(a);if(n.group){return L(n.group.concat(e.slice(1)))}return L([n].concat(e.slice(1)))},group:e,kind:"group"}}function m(e){var a=[];var n=[];for(var r=0;r<e.length;r++){if(e[r].special==="."){a.push(G(n));n=[]}else n.push(e[r])}if(n.length)a.push(G(n));var t=[];for(var r=0;r<a.length;r++){t=t.concat(a[r]);if(r<a.length-1)t.push({kind:"dot",dot:1})}return t}function G(a){for(var n=0;n<a.length;n++){if(a[n].waiting){a.splice(n,1);n--;continue}else if(a[n].special==="?"){var r=[{kind:"name",name:"calcitAnnotate"}];var t=a[n+1];var i=a[n-1];var u={kind:"parentheses",parentheses:[t,{name:"calcitSetType",kind:"name"},i]};a[n]=u;a.splice(n+1,1);a.splice(n-1,1);n=n-2;continue}else if(a[n].special==="@"){var r=[{kind:"name",name:"calcitSetAnnotation"}];var t=a.splice(n+1,1);var i=G(a.splice(n+1,a.length-n-1));a=a.slice(0,n).concat(t).concat(r).concat(i);break}else if(a[n].special==="#"){var r=[{kind:"name",name:"calcitAddComment"}];var t=a.splice(n+1,1);var i=G(a.splice(n+1,a.length-n-1));if(e){a=a.slice(0,n).concat(i)}else{a=a.slice(0,n).concat(t).concat(r).concat(i)}break}else if(a[n].special==="!"){var l=false;switch(n){case a.length-2:var r=G(a.splice(n+1,1));a=a.slice(0,n).concat([{kind:"name",name:"do"},{kind:"name",name:":"}]).concat(r);l=true;break;case a.length-3:var r=G(a.splice(n+1,1));var o=G(a.splice(n+1,1));a=a.slice(0,n).concat(r).concat([{kind:"name",name:":"}]).concat(o);l=true;break}if(l)break;if(n>a.length-2){throw new Error("The character ! is not allowed here. It can be used as follows: !operator firstOperand secondOperand.")}var r=G(a.splice(n+1,1));var t=G(a.splice(n+1,1));var i=G(a.splice(n+1,a.length-n-1));a=a.slice(0,n).concat(t).concat(r).concat(i);break}}return a}GLang.generateTree=function(n,r){e=r;var t=a();var t=GLang.tokenize(n).concat(t).reverse().reduce((e,a)=>e.next(a));t=t.group?t.group:[t];return m(t)}})();GLang.scopePrototype={notifyVariableChange:function(e){if(GLang.disableRuntimeUpdates)return;for(var a=0;a<this.variableUpdateFunctions.length;a++){var n=this.variableUpdateFunctions[a];if(n.varName===e){n.update()}}GLang.notifyGeneralChange()},registerVariableListener:function(e,a){this.variableUpdateFunctions.push({varName:this.unifyStringName(e),update:a})},resolveUnknownName:"calcit_resolve_unknown",resolveName:function(e){var a=this.unifyStringName(e);var n=this["kv_"+a];if(n){return n.varValue}else if(GLang.packageManager.installPackage(a)){return GLang.defaultRuntimeEnvironment["kv_"+a].varValue}else if(a!==this.resolveUnknownName){return GLang.callObject(this.resolveName(this.resolveUnknownName),null,[GLang.stringValue(a)])}else{return{value:GLang.voidValue.value,varName:this.resolveUnknownName}}},unifyStringName:function(e){if("string"!==typeof e)throw new Error("unifyStringName only accepts strings - "+JSON.stringify(e)+" does not fit this rule");if(e===""){return""}if(e.split("_").length>1){return e.toLowerCase()}var a=e[0].toLowerCase();for(var n=1;n<e.length;n++){var r=e[n];a+=r.toLowerCase()!==r?"_"+r.toLowerCase():r}return a},setInnerVariable:function(e,a,n,r){if(!e.match("[a-zA-Z_]+")){throw new Error(e+" is not a valid variable name!")}e=this.unifyStringName(e);if(this.hasOwnProperty("kv_"+e)){var t=this["kv_"+e];if(n){var i=t.varType?GLang.callObject(t.varType,this,[a]):a;var u=t.varValue;if(u!==i){t.varValue=i;this.notifyVariableChange(e)}return i}else{throw new Error("Not allowed to change variable $"+e)}}var l={varName:e,varValue:r?GLang.callObject(r,this,[a],r):a,varType:r};this["kv_"+e]=l;this.notifyVariableChange(e);return l.varValue},setInnerWithoutListeners:function(e,a){e=this.unifyStringName(e);this["kv_"+e]={varName:e,varValue:a}},hasInnerVariable:function(e){return this.hasOwnProperty("kv_"+this.unifyStringName(e))}};GLang.RuntimeEnvironment=function(e){var a=Object.create(e||GLang.scopePrototype);a.variableUpdateFunctions=[];return a};GLang.createFunctionScope=function(e,a,n){var r=new GLang.RuntimeEnvironment(e);a=a.value||[];for(var t=0;t<a.length;t++){if("string"!==typeof a[t].value)throw new Error("Every entry of an argument list needs to be a string value - "+JSON.stringify(a[t])+" does not fit this rule");var i=n.length>t?n[t]:GLang.voidValue;r.setInnerWithoutListeners(a[t].value,GLang.getType(a[t])?GLang.callObject(GLang.getType(a[t]),e,[i]):i)}return r};GLang.callObject=function(e,a,n){try{if(typeof e!=="object"){throw new Error("Error! You are probably using some v0 library or function. v1 values have to be 'normal' objects, not functions. Trying to call: "+r)}else{var r=e.value;switch(typeof r){case"function":return r(a,n);case"string":return GLang.functionFromString(r,e.environment||a).value(a,n);default:return e}}}catch(a){GLang.error("Tried to call:");GLang.print(e);if(e.annotations){for(var t=0;t<e.annotations.length;t++){var i=e.annotations[t];if(i.value.length===2&&i.value[0].value==="comment"){GLang.print("# "+i.value[1].value)}}}GLang.print("With parameters:");GLang.print(n);throw a}};GLang.getAnnotationType=function(e){var a=e.display;if(a==="string"||a==="function"){return"function"}if(!(e.value instanceof Array&&e.value.length===2)){return"invalid"}return"array"};GLang.applyFlag=function(e,a){var n=GLang.defaultRuntimeEnvironment.resolveName("flag_"+GLang.defaultRuntimeEnvironment.unifyStringName(GLang.at(0,a).value));GLang.callObject(n,GLang.defaultRuntimeEnvironment,[GLang.at(1,a),e])};GLang.applyArrayAnnotation=function(e,a,n){if(a.value[0].value==="flag"){GLang.applyFlag(e,a.value[1]);return}n(e,a)};GLang.applyAnnotation=function(e,a,n){switch(GLang.getAnnotationType(a)){case"function":GLang.callObject(a,GLang.defaultRuntimeEnvironment,[e]);break;case"array":GLang.applyArrayAnnotation(e,a,n);break;default:throw new Error("An annotation needs to be an array with two values, or a function - "+a.value+" does not fit this rule")}};GLang.addAnnotation=function(e,a){GLang.applyAnnotation(e,a,(function(){e.annotations=e.annotations||[];e.annotations.push(a)}))};GLang.setAnnotation=function(e,a){GLang.applyAnnotation(e,a,(function(){e.annotations=e.annotations||[];for(var n=0;n<e.annotations.length;n++){if(GLang.eq(e.annotations[n].value[0].value,a.value[0].value)){e.annotations[n]=a;return}}e.annotations.push(a)}))};GLang.getFirstAnnotation=function(e,a){if(!e.annotations)return undefined;for(var n=0;n<e.annotations.length;n++){if(GLang.eq(e.annotations[n].value[0].value,a.value)){return e.annotations[n].value[1]}}};GLang.getNamedAnnotations=function(e,a){if(!e.annotations)return[];var n=[];for(var r=0;r<e.annotations.length;r++){if(GLang.eq(e.annotations[r].value[0].value,a.value)){n.push(e.annotations[r].value[1])}}return n};GLang.getType=function(e){if(e.annotations){for(var a=0;a<e.annotations.length;a++){if(e.annotations[a].value[0].value==="type"){return e.annotations[a].value[1]}}}};GLang.functionFromString=function(e,a){return GLang.functionFromTree(GLang.generateTree(e),a,{value:[{value:"x"},{value:"y"}]})};GLang.functionFromTree=function(e,a,n,r){var t={value:function(t,i){var u=GLang.createFunctionScope(a,n,i);var l=GLang.evaluateTree(e,u);return r?GLang.callObject(r,t,[l]):l},display:"function"};GLang.setAnnotation(t,{value:[GLang.stringValue("argumentList"),n]});return t};GLang.evaluateTree=function(e,a){var n=[];var r=GLang.voidValue;for(var t=0;t<e.length;t++){if(e[t].dot){r=GLang.evaluateSentence(n,a);n=[]}else{n.push(e[t])}}if(n.length){r=GLang.evaluateSentence(n,a)}return r};GLang.evaluateSentence=function(e,a){var n=e.length;if(n===0)return GLang.voidValue;if(0===n%2){e=e.splice(0,1).concat([{kind:"special",special:":"}]).concat(e);n++}if(n===1)return GLang.evaluateSentenceFragment(e[0],a);return GLang.evaluateOperation([e[0]],[e[1]],e.slice(2),a)};GLang.evaluateOperation=function(e,a,n,r){var t=GLang.evaluateTree(e,r);var i=GLang.evaluateTree(n,r);var u=GLang.evaluateTree(a,r);return GLang.callObject(u,r,[t,i])};GLang.evaluateSentenceFragment=function(e,a){switch(e.kind){case"string":var n=GLang.stringValue(e.string);n.environment=a;return n;case"num":return{value:e.num};case"name":return a.resolveName(e.name);case"parentheses":return GLang.evaluateTree(e.parentheses,a);case"array":return{value:[GLang.evaluateTree(e.array,a)]};case"special":return a.resolveName(e.special);default:console.error(e)}};(function(e){GLang.defaultRuntimeEnvironment=new GLang.RuntimeEnvironment;function a(e){if(e===undefined||e===null){return GLang.voidValue}return{value:e,display:"string"}}GLang.stringValue=a;GLang.voidValue={value:[],display:"none"};function n(e){if(!e.value){e={value:e}}function a(n,r){var t=r.length;if(t===0){return GLang.callObject(e,n,[])}if(t>2){throw new Error("You can not call an array function with more than two parameters. (You should never call a function with more than two parameters)")}var r=r.slice(0,r.length);if(t===1){r.push({value:0})}var i=r[0];if(GLang.eq(i.value,[]))return{value:[]};var u=r[1];if(GLang.eq(u.value,[]))return{value:[]};var l=[];if(i.value instanceof Array||u.value instanceof Array){i=i.value instanceof Array?i:{value:[i]};u=u.value instanceof Array?u:{value:[u]};var o=i.value.length,s=u.value.length;var v=Math.max(o,s);for(var c=0;c<v;c++){if(!u.value.length){l.push(a(n,[i.value[c%o]]))}else{l.push(a(n,[i.value[c%o],u.value[c%s]]))}}return{value:l,display:u.display||i.display}}if(t==1){return GLang.callObject(e,n,[i])}else{return GLang.callObject(e,n,[i,u])}}return a}GLang.arrayFun=n;function r(e,a){var n=a.value;if(n instanceof Array&&n.length===0)return{value:[]};if(e instanceof Array){var t=[];for(var i=0;i<e.length;i++){t.push(r(e[i].value,a))}return{value:t}}if(!(n instanceof Array)){n=[{value:n}]}return n[e%n.length]}GLang.at=r;GLang.printValue=GLang.printValue||function(e){GLang.print(e.value)};GLang.eq=function e(a,n){if(a instanceof Array&&n instanceof Array){if(a.length!==n.length)return false;for(var r=0;r<a.length;r++){if(!GLang.eq(a[r].value,n[r].value))return false}return true}return a===n};var t=[{varName:"+",varValue:{value:n((function(e,a){return{value:a[0].value+a[1].value,display:a[0].display||a[1].display}}))}},{varName:"-",varValue:{value:n((function(e,a){return{value:a[0].value-a[1].value}}))}},{varName:"%",varValue:{value:n((function(e,a){return{value:a[0].value/a[1].value}}))}},{varName:"*",varValue:{value:n((function(e,a){return{value:a[0].value*a[1].value}}))}},{varName:"/",varValue:{value:function(e,a){if(!(a[1].value instanceof Array)){a[1]={value:[a[1]]}}if(a[1].value.length===0)return{value:[]};var n=a[1].value[a[1].value.length-1];if(a[1].value.length===1)return n;for(var r=a[1].value.length-2;r>=0;r--){n=GLang.callObject(a[0],e,[a[1].value[r],n])}return n}}},{varName:"print",varValue:{value:function(e,a){GLang.printValue(a[0]);return a[0]}}},{varName:"array",varValue:{value:function(e,a){return{value:a}}}},{varName:"fun",varValue:{value:function(e,a){var n=a[0];if(!(n.value instanceof Array)){n=[n]}else{n=n.value}if(n.length>2){throw new Error("Functions can not have more than two parameters")}var r=a[1].value;var t=GLang.getType(a[1]);if("string"===typeof r)r=GLang.generateTree(r);var i=GLang.functionFromTree(r,e,{value:n},t);for(var u=0;u<n.length;u++){if((n[u].value+"").startsWith("_")){return i}}var l={value:GLang.arrayFun((function(e,a){return GLang.callObject(i,e,a)})),display:"function"};GLang.setAnnotation(l,{value:[GLang.stringValue("argumentList"),{value:n}]});return l}}},{varName:";",varValue:{value:function(e,a){var n=a[0];if(!(n.value instanceof Array)){n={value:[n]}}var r=a[1];if(!(r.value instanceof Array)){r={value:[r]}}return{value:[].concat(n.value,r.value)}}}},{varName:":",varValue:{value:function(e,a){return GLang.callObject(a[0],e,[a[1]])}}},{varName:"=",varValue:{value:function(e,a){var n=a[0].value,r=e,t=false;if("string"!==typeof n)throw new Error("First argument of = has to be a string or reference - "+JSON.stringify(n)+" does not fit this rule");if(a[0].display==="reference"){r=a[0].environment;t=true}return r.setInnerVariable(n,a[1],t,GLang.getType(a[0]))}}},{varName:"range",varValue:{value:n((function(e,a){var n=[];if(a[0].value<=a[1].value){for(var r=a[0].value;r<=a[1].value;r++){n.push({value:r})}}else{for(var r=a[0].value;r>=a[1].value;r--){n.push({value:r})}}return{value:n}}))}},{varName:"void",varValue:GLang.voidValue},{varName:"eq",varValue:{value:function(e,a){return{value:GLang.eq(a[0].value,a[1].value)?1:0}}}},{varName:"<",varValue:{value:n((function(e,a){return{value:a[0].value<a[1].value?1:0}}))}},{varName:">",varValue:{value:n((function(e,a){return{value:a[0].value>a[1].value?1:0}}))}},{varName:"^",varValue:{value:n((function(e,a){return{value:a[0].value**a[1].value}}))}},{varName:"mod",varValue:{value:n((function(e,a){return{value:a[0].value%a[1].value}}))}},{varName:"|",varValue:{value:n((function(e,a){return a[0].value<a[1].value?a[1]:a[0]}))}},{varName:"&",varValue:{value:n((function(e,a){return a[0].value<a[1].value?a[0]:a[1]}))}},{varName:"at",varValue:{value:function(e,a){return r(a[0].value,a[1])}}},{varName:"reference",varValue:{value:function(e,a){if(a[0].display==="reference"){return a[0]}return{value:a[0].value,display:"reference",environment:e,name:a[0].value}}}},{varName:"display_type",varValue:{value:function(e,a){return GLang.stringValue(a[0].display||"default")}}},{varName:"resolve_reference",varValue:{value:function(e,a){var n=a[0];return n.environment.resolveName(n.name)}}}];for(var i=0;i<t.length;i++){GLang.defaultRuntimeEnvironment["kv_"+t[i].varName]=t[i]}})(this);GLang.wrapJsToValue=function e(a){if(a===null||a===undefined||a!==a)return GLang.voidValue;switch(typeof a){case"string":return GLang.stringValue(a);case"boolean":return{value:a?1:0}}if(a instanceof Function){var n=a;var r=function(a,r){var t=r.map(e=>e.value);return e(n(...t))};var t=n.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/);var i=true;for(var u=0;u<t.length;u++){if(t[u].startsWith("_")){i=false;break}}if(i)r=GLang.arrayFun(r);return{value:r,display:"function",argumentList:t}}if(a instanceof Array){return{value:a.map(e=>GLang.wrapJsToValue(e))}}if(a instanceof Object){var l=[];for(prop in a){l.push({value:[GLang.stringValue(prop),GLang.wrapJsToValue(a[prop])]})}return{value:l}}return{value:a}};GLang.wrapValueToJsObject=function(e){e=e.value;if(e instanceof Array){var a={};for(var n=0;n<e.length;n++){if(e[n].value.length===2&&"string"===typeof GLang.at(0,e[n]).value){a[GLang.at(0,e[n]).value]=GLang.wrapValueToJsObject(GLang.at(1,e[n]))}else{var r=[];for(var n=0;n<e.length;n++){r[n]=GLang.wrapValueToJsObject(e[n])}return r}}return a}else{return e}};(function(global){function loadPackageSync(e){var a=e.split(".");var n=a[a.length-1];var r=this.supportedLanguages["lang_"+n];if(r){try{r(e,this.loadUrl(e))}catch(e){GLang.error(e)}return}GLang.error("Unsupported language for packages: "+n)}function register(e,a){if(e instanceof Array){for(var n=0;n<e.length;n++){this.register(e[n],a)}return}for(var r=0;r<this.registeredPackages.length;r++){var t=this.registeredPackages[r];if(t.provides===e.provides){GLang.error("The name "+t.provides+" is already provided by "+t)}}if(a){e.scriptUrl=a+e.scriptUrl}this.registeredPackages.push(e)}function validatePackageVariables(e){for(var a=0;a<e.length;a++){if(!GLang.defaultRuntimeEnvironment.hasInnerVariable(e[a])){throw new Error("A package has claimed to provide the variable "+e[a]+" - but it does not")}}}function installPackage(e){if(GLang.debug)GLang.log("Looking for name "+e);for(var a=0;a<this.registeredPrecompiledPackages.length;a++){var n=this.registeredPrecompiledPackages[a];if(n[0].includes(e)){GLang.evaluateTree(n[1],GLang.defaultRuntimeEnvironment);validatePackageVariables(n[0]);return true}}for(var a=0;a<this.registeredPackages.length;a++){var n=this.registeredPackages[a];for(var r=0;r<n.provides.length;r++){if(n.provides[r]===e){this.loadPackageSync(n.scriptUrl,n.scriptType);validatePackageVariables(n.provides,n.scriptUrl);return true}}}return false}function initialize(e){for(var a=0;a<e.length;a++){this.loadPackageSync(e[a])}}GLang.PackageManager=function(){this.loadPackageSync=loadPackageSync;this.registeredPackages=[];this.hiddenRegisteredPackages=[];this.installedUrls=[];this.register=register;this.installPackage=installPackage;this.registeredPrecompiledPackages=[];this.registerPrecompiledPackage=function(e,a){this.registeredPrecompiledPackages.push([e,a]);this.registeredPackages.push({provides:e,scriptUrl:null})};function installJs(e){var a={};e.call(a);for(property in a){GLang.defaultRuntimeEnvironment.setInnerVariable(GLang.defaultRuntimeEnvironment.unifyStringName(property),GLang.wrapJsToValue(a[property]))}}this.installJs=installJs;this.supportedLanguages={lang_js:function(e,a){installJs(Function(a))},lang_txt:function(e,a){GLang.eval(a,true)},lang_json:function(url,x){var packageInfo=eval("("+x+")");if(packageInfo.requirements){for(var i=0;i<packageInfo.requirements.length;i++){if(GLang.packageManager.registeredPackages.indexOf(packageInfo.requirements[i])!==-1)continue;GLang.packageManager.loadPackageSync(packageInfo.requirements[i])}}GLang.packageManager.register(packageInfo.libraries,url.replace("/platform-packages.json","/packages/"))},lang_k:function(e,a){GLang.eval(a,true)}};this.initialize=initialize}})(this);GLang.eval=function(e,a){if(e.startsWith("#!")){e=e.split("\n").slice(1).join("\n")}var n=a?1:0;GLang.disableRuntimeUpdates+=n;try{var r=GLang.evaluateTree(GLang.generateTree(e),GLang.defaultRuntimeEnvironment);GLang.disableRuntimeUpdates-=n;if(GLang.disableRuntimeUpdates<0){GLang.error("GLang.disableRuntimeUpdates is "+GLang.disableRuntimeUpdates)}return r}catch(e){GLang.disableRuntimeUpdates-=n;console.error(e);throw e}};(function(){var e=[];GLang.notifyGeneralChange=function(){if(GLang.disableRuntimeUpdates)return;for(var a=0;a<e.length;a++){e[a]()}};GLang.notifyVariableChange=GLang.defaultRuntimeEnvironment.notifyVariableChange;GLang.registerVariableListener=GLang.defaultRuntimeEnvironment.registerVariableListener;GLang.registerGeneralListener=function(a){e.push(a)};GLang.disableRuntimeUpdates=0})();GLang.listCookies=function(e){var a=[];var n=e.split(";");for(var r=0;r<n.length;r++){var t=n[r];while(t.charAt(0)==" ")t=t.substring(1,t.length);var i=t.split("=")[0];if(i!=="")a.push(i)}return a};GLang.getCookie=function(e,a){var n=encodeURIComponent(a)+"=";var r=e.split(";");for(var t=0;t<r.length;t++){var i=r[t];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(n)==0)return decodeURIComponent(i.substring(n.length,i.length))}return null};