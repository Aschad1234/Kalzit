String.prototype.startsWith=String.prototype.startsWith||function(e){return this.lastIndexOf(e,0)===0};Array.prototype.includes=Array.prototype.includes||function(e){return this.indexOf(e)>=0};this.GLang={returnFalse:function(){return false}};this.KNI=this.KNI||{hasStorage:GLang.returnFalse,hasSynchronousLoader:GLang.returnFalse,hasAsynchronousLoader:GLang.returnFalse};GLang.categorize=function(e,t){var a=true;function i(){a=!a;return a?"_":"__"}function n(e){for(var a=0;a<t.length;a++){var n=t[a];var r=n[1](e);if(r){return[n[0],r]}}return[i(),null]}var r=[null,null];var u=[];var l=[];for(var o=0;o<e.length;o++){var s=e[o];var v=n(s);if(v[0]===r[0]){u.push(s)}else{l.push([r[0],u,r[1]]);u=[s];r=v}}if(u.length>0){l.push([r[0],u,r[1]])}return l.slice(1)};GLang.tokenize=function(e){var r=0;var t=0;return GLang.categorize(e,[["Word",function(e){return e.match("[a-zA-Z_]")}],["Digit",function(e){return e.match("\\d")}],["Space",function(e){return e.match("\\s")}]]).map(function(e){var a={textValue:e[1].join(""),category:e[0]};var n=a.textValue.split("\n");t=n.length>1?n[n.length-1].length:t+a.textValue.length;r+=n.length-1;return a})};(function(){var o=false;function i(){return{next:function(e){switch(e.category){case"Word":return g(e);case"Digit":return c(e);case"Space":return i()}switch(e.textValue){case"}":return n("",1);case"]":return r("",1);case")":return t("",1);case"'":return l("");case'"':return u("");case"`":return s();case"´":return s()}return d([i(),a(e)])},waiting:true,kind:"waiting"}}function a(e){return{special:e.textValue,kind:"special"}}function e(t,i,u){return function a(n,r){return{next:function(e){if(e.textValue===t){if(r===1){return u(n)}r-=1}else if(e.textValue===i){r+=1}return a(e.textValue+n,r)},kind:"depthBlock"}}}var n=e("{","}",function(e){return d([i(),L(e)])});var r=e("[","]",function(e){return d([i(),{kind:"array",array:GLang.generateTree(e)}])});var t=e("(",")",function(e){var a=GLang.generateTree(e,o);if(o&&a.length==1){return d([i(),a[0]])}return d([i(),{kind:"parentheses",parentheses:a}])});function u(a){return{next:function(e){if(e.textValue==='"')return d([i(),L(a)]);return u(e.textValue+a)},kind:"doubleQuoteBlock"}}function l(a){return{next:function(e){if(e.textValue==="'")return d([i(),L(a)]);return l(e.textValue+a)},kind:"singleQuoteBlock"}}function s(){return{next:function(e){if(e.textValue==="´"||e.textValue==="`")return i();return s()},kind:"commentBlock"}}function v(e){return{next:function(e){return this},error:e,kind:"error"}}function g(a){return{next:function(e){if(e.textValue==="$")return d([i(),L(a.textValue)]);return d([i(),this]).next(e)},name:a.textValue,kind:"name"}}function c(a){return{next:function(e){if(e.textValue===",")return f(a);if(e.textValue==="\\")return d([i(),p(this.num)]);return d([i(),this]).next(e)},num:parseInt(a.textValue),kind:"num"}}function f(a){return{next:function(e){if(e.category==="Digit")return d([i(),h(e,a)]);return v(e)},kind:"commaNumber"}}function h(e,a){return{next:function(e){if(e.textValue==="\\")return d([i(),p(this.num)]);return d([i(),this]).next(e)},num:parseFloat(e.textValue+"."+a.textValue),kind:"num"}}function p(e){return{kind:"num",num:-e}}function L(e){return{string:e,kind:"string"}}function d(n){return{next:function(e){var a=n[0].next(e);if(a.group){return d(a.group.concat(n.slice(1)))}return d([a].concat(n.slice(1)))},group:n,kind:"group"}}function m(e){var a=[];var n=[];for(var r=0;r<e.length;r++){if(e[r].special==="."){a.push(G(n));n=[]}else n.push(e[r])}if(n.length)a.push(G(n));var t=[];for(var r=0;r<a.length;r++){t=t.concat(a[r]);if(r<a.length-1)t.push({kind:"dot",dot:1})}return t}function G(e){for(var a=0;a<e.length;a++){if(e[a].waiting){e.splice(a,1);a--;continue}else if(e[a].special==="?"){var n=[{kind:"name",name:"calcitAnnotate"}];var r=e[a+1];var t=e[a-1];var i={kind:"parentheses",parentheses:[r,{name:"calcitSetType",kind:"name"},t]};e[a]=i;e.splice(a+1,1);e.splice(a-1,1);a=a-2;continue}else if(e[a].special==="@"){var n=[{kind:"name",name:"calcitSetAnnotation"}];var r=e.splice(a+1,1);var t=G(e.splice(a+1,e.length-a-1));e=e.slice(0,a).concat(r).concat(n).concat(t);break}else if(e[a].special==="#"){var n=[{kind:"name",name:"calcitAddComment"}];var r=e.splice(a+1,1);var t=G(e.splice(a+1,e.length-a-1));if(o){e=e.slice(0,a).concat(t)}else{e=e.slice(0,a).concat(r).concat(n).concat(t)}break}else if(e[a].special==="!"){var u=false;switch(a){case e.length-2:var n=G(e.splice(a+1,1));e=e.slice(0,a).concat([{kind:"name",name:"do"},{kind:"name",name:":"}]).concat(n);u=true;break;case e.length-3:var n=G(e.splice(a+1,1));var l=G(e.splice(a+1,1));e=e.slice(0,a).concat(n).concat([{kind:"name",name:":"}]).concat(l);u=true;break}if(u)break;if(a>e.length-2){throw new Error("The character ! is not allowed here. It can be used as follows: !operator firstOperand secondOperand.")}var n=G(e.splice(a+1,1));var r=G(e.splice(a+1,1));var t=G(e.splice(a+1,e.length-a-1));e=e.slice(0,a).concat(r).concat(n).concat(t);break}}return e}GLang.generateTree=function(e,a){o=a;var n=i();var r=GLang.tokenize(e);for(var t=r.length-1;t>=0;t--){n=n.next(r[t])}n=n.group?n.group:[n];return m(n)}})();(function(e){function v(e){if(e===""){return""}if(e.split("_").length>1){return e.toLowerCase()}var a=e[0].toLowerCase();for(var n=1;n<e.length;n++){var r=e[n];a+=r.toLowerCase()!==r?"_"+r.toLowerCase():r}return a}e.GLang.RuntimeEnvironment=function(s){var r=[];this.innerVariables=[];this.outerEnvironment=s;this.notifyVariableChange=function(e){if(GLang.disableRuntimeUpdates)return;for(var a=0;a<r.length;a++){var n=r[a];if(n.varName===e){n.update()}}GLang.notifyGeneralChange()};this.registerVariableListener=function(e,a){r.push({varName:GLang.defaultRuntimeEnvironment.unifyStringName(e),update:a})};this.resolveName=function e(a){var n=v(a);for(var r=0;r<this.innerVariables.length;r++){var t=this.innerVariables[r];if(t.varName===n){var i=Object.create(t.varValue);GLang.setAnnotation(i,{value:[GLang.stringValue("accessVarName"),GLang.stringValue(n)]});return i}}if(this.outerEnvironment){return this.outerEnvironment.resolveName(a)}if(GLang.packageManager.installPackage(n)){return this.resolveName(a)}if(n!=="calcit_resolve_unknown"){return GLang.callObject(this.resolveName("calcit_resolve_unknown"),null,[GLang.stringValue(a)])}else{return{value:GLang.voidValue.value,varName:n}}};this.hasInnerVariable=function e(a){for(var n=0;n<this.innerVariables.length;n++){var r=this.innerVariables[n];if(r.varName===a){return true}}return false};this.setInnerVariable=function e(a,n,r,t){if(!a.match("[a-zA-Z_]+")){throw new Error(a+" is not a valid variable name!")}a=v(a);for(var i=0;i<this.innerVariables.length;i++){var u=this.innerVariables[i];if(u.varName===a){if(r&&!u.frozen){var l=u.varType?GLang.callObject(u.varType,this,[n]):n;var o=u.varValue;if(o!==l){u.varValue=l;if(o.value!==l.value){this.notifyVariableChange(a)}}return l}else{throw new Error("Not allowed to change variable $"+a+(u.frozen?" because it is frozen - probably part of a package":""))}}}var u={varName:a,varValue:t?GLang.callObject(t,this,[n],t):n,varType:t};if(!s){GLang.addAnnotation(u.varValue,{value:[GLang.stringValue("originalValueOf"),GLang.stringValue(a)]})}this.innerVariables.push(u);this.notifyVariableChange(a);return u.varValue};this.freezeInnerVariable=function e(a){a=v(a);for(var n=0;n<this.innerVariables.length;n++){var r=this.innerVariables[n];if(r.varName===a){r.frozen=true}}};this.unifyStringName=v}})(this);GLang.createFunctionScope=function(e,a,n){var r=new GLang.RuntimeEnvironment(e);a=a.value||[];for(var t=0;t<a.length;t++){var i=n.length>t?n[t]:GLang.voidValue;r.innerVariables.push({varName:GLang.defaultRuntimeEnvironment.unifyStringName(a[t].value),varValue:GLang.getType(a[t])?GLang.callObject(GLang.getType(a[t]),e,[i]):i})}return r};GLang.callObject=function(a,e,n){try{if(typeof a!=="object"){throw new Error("Error! You are probably using some v0 library or function. v1 values have to be 'normal' objects, not functions. Trying to call: "+r)}else{var r=a.value;if(typeof r==="function"){var t=r(e,n);GLang.setAnnotation(t,{value:[GLang.stringValue("producer"),a]});return t}else if(typeof r==="string"){a=GLang.functionFromString(r,a.environment||e);r=a.value}var i=GLang.getFirstAnnotation(a,GLang.stringValue("argumentList"));if(!(i&&r.code&&r.environment)){return a}var u=GLang.createFunctionScope(r.environment,i,n);if(typeof r==="object"){if(GLang.getType(a)){return GLang.callObject(GLang.getType(a),e,[GLang.evaluateTree(r.code,u)])}return GLang.evaluateTree(r.code,u)}}}catch(e){GLang.error("Tried to call:");GLang.print(a);if(a.annotations){for(var l=0;l<a.annotations.length;l++){var o=a.annotations[l];if(o.value.length===2&&o.value[0].value==="comment"){GLang.print("# "+o.value[1].value)}}}GLang.print("With parameters:");GLang.print(n);throw e}};GLang.array=function(e){if(!(e instanceof Array)){return[e]}return e};GLang.arrayValue=function(e){return{value:e}};GLang.validateAnnotation=function(e){if(!(e.value instanceof Array&&e.value.length===2)){throw new Error("An annotation needs to be an array with two values - "+e.value+" does not fit this rule")}if(!(typeof e.value[0].value==="string"))throw new Error("The first item of an annotation array has to be a string - "+e.value[0].value+" does not fit this rule")};GLang.applyFlag=function(e,a){var n=GLang.defaultRuntimeEnvironment.resolveName("flag_"+GLang.defaultRuntimeEnvironment.unifyStringName(GLang.at(0,a).value));GLang.callObject(n,GLang.defaultRuntimeEnvironment,[GLang.at(1,a),e])};GLang.addAnnotation=function(e,a){GLang.validateAnnotation(a);if(a.value[0].value==="flag"){GLang.flagQueue.unshift(function(){GLang.applyFlag(e,a.value[1])});if(!GLang.useLazyFlags)GLang.runFlagQueue();return}e.annotations=e.annotations||[];e.annotations.push(a)};GLang.setAnnotation=function(e,a){GLang.validateAnnotation(a);if(a.value[0].value==="flag"){GLang.flagQueue.unshift(function(){GLang.applyFlag(e,a.value[1])});if(!GLang.useLazyFlags)GLang.runFlagQueue();return}e.annotations=e.annotations||[];for(var n=0;n<e.annotations.length;n++){if(GLang.eq(e.annotations[n].value[0].value,a.value[0].value)){e.annotations[n]=a;return}}e.annotations.push(a)};GLang.getFirstAnnotation=function(e,a){if(!e.annotations)return undefined;for(var n=0;n<e.annotations.length;n++){if(GLang.eq(e.annotations[n].value[0].value,a.value)){return e.annotations[n].value[1]}}};GLang.getNamedAnnotations=function(e,a){if(!e.annotations)return[];var n=[];for(var r=0;r<e.annotations.length;r++){if(GLang.eq(e.annotations[r].value[0].value,a.value)){n.push(e.annotations[r].value[1])}}return n};GLang.getType=function(e){if(e.annotations){for(var a=0;a<e.annotations.length;a++){if(e.annotations[a].value[0].value==="type"){return e.annotations[a].value[1]}}}};GLang.functionFromString=function(e,a){var n={value:{environment:a,code:GLang.generateTree(e)}};GLang.addAnnotation(n,{value:[GLang.stringValue("argumentList"),{value:[{value:"x"},{value:"y"}]}]});return n};GLang.evaluateTree=function(e,a){var n=[];var r=GLang.voidValue;for(var t=0;t<e.length;t++){if(e[t].dot){r=GLang.evaluateSentence(n,a);n=[]}else{n.push(e[t])}}if(n.length){r=GLang.evaluateSentence(n,a)}return r};GLang.evaluateSentence=function(e,a){var n=e.length;if(n===0)return GLang.voidValue;if(0===n%2){e=e.splice(0,1).concat([{kind:"special",special:":"}]).concat(e);n++}if(n===1)return GLang.evaluateSentenceFragment(e[0],a);return GLang.evaluateOperation([e[0]],[e[1]],e.slice(2),a)};GLang.evaluateOperation=function(e,a,n,r){var t=GLang.evaluateTree(e,r);var i=GLang.evaluateTree(n,r);var u=GLang.evaluateTree(a,r);return GLang.callObject(u,r,[t,i])};GLang.evaluateSentenceFragment=function(e,a){switch(e.kind){case"string":var n=GLang.stringValue(e.string);n.environment=a;return n;case"num":return{value:e.num};case"name":return a.resolveName(e.name);case"parentheses":return GLang.evaluateTree(e.parentheses,a);case"array":return GLang.arrayValue([GLang.evaluateTree(e.array,a)]);case"special":return a.resolveName(e.special);default:console.error(e)}};(function(e){GLang.defaultRuntimeEnvironment=new GLang.RuntimeEnvironment;function a(e){if(e===undefined||e===null){return GLang.voidValue}return{value:e,display:"string"}}GLang.stringValue=a;GLang.voidValue={value:[],display:"none"};function n(v){if(!v.value){v={value:v}}function g(e,a){var a=a.slice(0,a.length);var n=a.length;if(n===0){return GLang.callObject(v,e,a)}if(n>2){throw new Error("You can not call an array function with more than two parameters. (You should never call a function with more than two parameters)")}if(n===1){a.push({value:0,inserted:true})}var r=a[0];if(GLang.eq(r.value,[]))return{value:[]};var t=a[1];if(GLang.eq(t.value,[]))return{value:[]};var i=[];if(r.value instanceof Array||t.value instanceof Array){r=r.value instanceof Array?r:{value:[r]};t=t.value instanceof Array?t:{value:[t]};var u=r.value.length,l=t.value.length;var o=Math.max(u,l);for(var s=0;s<o;s++){if(!t.value.length){i.push(g(e,[r.value[s%u]]))}else{i.push(g(e,[r.value[s%u],t.value[s%l]]))}}return{value:i,display:t.display||r.display}}r=r.inserted?GLang.voidValue:r;if(n==1){return GLang.callObject(v,e,[r])}t=t.inserted?GLang.voidValue:t;return GLang.callObject(v,e,[r,t])}return g}GLang.arrayFun=n;function i(e,a){var n=a.value;if(n instanceof Array&&n.length===0)return{value:[]};if(e instanceof Array){var r=[];for(var t=0;t<e.length;t++){r.push(i(e[t].value,a))}return{value:r}}if(!(n instanceof Array)){n=[{value:n}]}return n[e%n.length]}GLang.at=i;GLang.printValue=GLang.printValue||function(e){GLang.print(e.value)};GLang.eq=function e(a,n){if(a instanceof Array&&n instanceof Array){if(a.length!==n.length)return false;for(var r=0;r<a.length;r++){if(!GLang.eq(a[r].value,n[r].value))return false}return true}return a===n};GLang.defaultRuntimeEnvironment.innerVariables=[{varName:"+",varValue:{value:n(function(e,a){return{value:a[0].value+a[1].value,display:a[0].display||a[1].display}})},frozen:true},{varName:"-",varValue:{value:n(function(e,a){return{value:a[0].value-a[1].value}})},frozen:true},{varName:"%",varValue:{value:n(function(e,a){return{value:a[0].value/a[1].value}})},frozen:true},{varName:"*",varValue:{value:n(function(e,a){return{value:a[0].value*a[1].value}})},frozen:true},{varName:"/",varValue:{value:function(e,a){if(!(a[1].value instanceof Array)){a[1]={value:[a[1]]}}if(a[1].value.length===0)return{value:[]};var n=a[1].value[a[1].value.length-1];if(a[1].value.length===1)return n;for(var r=a[1].value.length-2;r>=0;r--){n=GLang.callObject(a[0],e,[a[1].value[r],n])}return n}},frozen:true},{varName:"print",varValue:{value:function(e,a){GLang.printValue(a[0]);return a[0]}},frozen:true},{varName:"array",varValue:{value:function(e,a){return{value:a}}},frozen:true},{varName:"fun",varValue:{value:function(e,a){var n=a[0];if(!(n.value instanceof Array)){n=[n]}else{n=n.value}if(n.length>2){throw new Error("Functions can not have more than two parameters")}var r=a[1].value;var t=GLang.getType(a[1]);if("string"===typeof r)r=GLang.generateTree(r);var i={value:{environment:e,code:r},display:"function"};GLang.setAnnotation(i,{value:[GLang.stringValue("argumentList"),{value:n}]});if(t){GLang.setAnnotation(i,{value:[GLang.stringValue("type"),t]})}for(var u=0;u<n.length;u++){if((n[u].value+"").startsWith("_")){return i}}var l={value:GLang.arrayFun(function(e,a){return GLang.callObject(i,e,a)}),display:"function"};GLang.setAnnotation(l,{value:[GLang.stringValue("argumentList"),{value:n}]});return l}},frozen:true},{varName:";",varValue:{value:function(e,a){var n=a[0];if(!(n.value instanceof Array)){n={value:[n]}}var r=a[1];if(!(r.value instanceof Array)){r={value:[r]}}return{value:[].concat(n.value,r.value)}}},frozen:true},{varName:":",varValue:{value:function(e,a){return GLang.callObject(a[0],e,[a[1]])}},frozen:true},{varName:"=",varValue:{value:function(e,a){var n=a[0].value,r=e,t=false;if(a[0].display==="reference"){n=a[0].value;r=a[0].environment;t=true}return r.setInnerVariable(n,a[1],t,GLang.getType(a[0]))}},frozen:true},{varName:"range",varValue:{value:n(function(e,a){var n=[];if(a[0].value<=a[1].value){for(var r=a[0].value;r<=a[1].value;r++){n.push({value:r})}}else{for(var r=a[0].value;r>=a[1].value;r--){n.push({value:r})}}return{value:n}})},frozen:true},{varName:"void",varValue:GLang.voidValue,frozen:true},{varName:"eq",varValue:{value:function(e,a){return{value:GLang.eq(a[0].value,a[1].value)?1:0}}},frozen:true},{varName:"<",varValue:{value:n(function(e,a){return{value:a[0].value<a[1].value?1:0}})},frozen:true},{varName:">",varValue:{value:n(function(e,a){return{value:a[0].value>a[1].value?1:0}})},frozen:true},{varName:"^",varValue:{value:n(function(e,a){return{value:Math.pow(a[0].value,a[1].value)}})},frozen:true},{varName:"mod",varValue:{value:n(function(e,a){return{value:a[0].value%a[1].value}})},frozen:true},{varName:"|",varValue:{value:n(function(e,a){return a[0].value<a[1].value?a[1]:a[0]})},frozen:true},{varName:"&",varValue:{value:n(function(e,a){return a[0].value<a[1].value?a[0]:a[1]})},frozen:true},{varName:"at",varValue:{value:function(e,a){return i(a[0].value,a[1])}},frozen:true},{varName:"reference",varValue:{value:function(e,a){if(a[0].display==="reference"){return a[0]}return{value:a[0].value,display:"reference",environment:e,name:a[0].value}}},frozen:true},{varName:"display_type",varValue:{value:function(e,a){return GLang.stringValue(a[0].display||"default")}},frozen:true},{varName:"resolve_reference",varValue:{value:function(e,a){var n=a[0];return n.environment.resolveName(n.name)}},frozen:true}]})(this);GLang.wrapJsToValue=function i(e){if(e===null||e===undefined||e!==e)return GLang.voidValue;switch(typeof e){case"string":return GLang.stringValue(e);case"boolean":return{value:e?1:0}}if(e instanceof Function){var u=e;var a=function(e,a){var n=[];for(var r=0;r<a.length;r++){n.push(a[r].value)}var t=i(u.apply(this,n));return t};var n=u.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/);var r=true;for(var t=0;t<n.length;t++){if(n[t].startsWith("_")){r=false;break}}if(r)a=GLang.arrayFun(a);return{value:a,display:"function",argumentList:n}}if(e instanceof Array){var l=[];for(var t=0;t<e.length;t++){l.push(GLang.wrapJsToValue(e[t]))}return{value:l}}if(e instanceof Object){var o=[];for(prop in e){o.push({value:[GLang.stringValue(GLang.defaultRuntimeEnvironment.unifyStringName(prop)),GLang.wrapJsToValue(e[prop])]})}return{value:o}}return{value:e}};GLang.wrapValueToJsObject=function(e){e=e.value;if(e instanceof Array){var a={};for(var n=0;n<e.length;n++){var r=GLang.at(0,e[n]).value;if("string"===typeof r){a[GLang.at(0,e[n]).value]=GLang.wrapValueToJsObject(GLang.at(1,e[n]))}else{var t=[];for(var n=0;n<e.length;n++){t[n]=GLang.wrapValueToJsObject(e[n])}return t}}return a}else{return e}};(function(global){function loadPackageSync(e){var a=e.split(".");var n=a[a.length-1];for(var r=0;r<this.supportedLanguages.length;r++){var t=this.supportedLanguages[r];if(t.langName===n){this.installedUrls.push(e);try{var i=t.langRunner(e,this.loadUrl(e));return true}catch(e){GLang.error(e);return false}}}GLang.error("Unsupported language for packages: "+n)}function register(e,a){if(e instanceof Array){for(var n=0;n<e.length;n++){this.register(e[n],a)}return}for(var r=0;r<this.registeredPackages.length;r++){var t=this.registeredPackages[r];if(t.provides===e.provides){GLang.error("The name "+t.provides+" is already provided by "+t)}}if(a){e.scriptUrl=a+e.scriptUrl}this.registeredPackages.push(e)}function freezePackageVariables(e,a){for(var n=0;n<e.length;n++){if(!GLang.defaultRuntimeEnvironment.hasInnerVariable(e[n])){throw new Error("A package has claimed to provide the variable "+e[n]+" - but it does not")}var r=GLang.defaultRuntimeEnvironment.resolveName(e[n],GLang.defaultRuntimeEnvironment);GLang.addAnnotation(r,{value:[GLang.stringValue("sourceUrl"),GLang.stringValue(a)]});GLang.defaultRuntimeEnvironment.setInnerVariable(e[n],r,true);if(!GLang.getFirstAnnotation(r,GLang.stringValue("nofreeze"))){GLang.defaultRuntimeEnvironment.freezeInnerVariable(e[n])}}}function installPackage(e){if(GLang.debug)GLang.log("Looking for name "+e);for(var a=0;a<this.registeredPrecompiledPackages.length;a++){var n=this.registeredPrecompiledPackages[a];if(n[0].includes(e)){GLang.evaluateTree(n[1],GLang.defaultRuntimeEnvironment);freezePackageVariables(n[0],null);return true}}for(var a=0;a<this.registeredPackages.length;a++){var n=this.registeredPackages[a];for(var r=0;r<n.provides.length;r++){if(n.provides[r]===e){this.loadPackageSync(n.scriptUrl,n.scriptType);freezePackageVariables(n.provides,n.scriptUrl);return true}}}return false}function initialize(e){for(var a=0;a<e.length;a++){this.loadPackageSync(e[a])}}GLang.PackageManager=function(){this.loadPackageSync=loadPackageSync;this.registeredPackages=[];this.hiddenRegisteredPackages=[];this.installedUrls=[];this.register=register;this.installPackage=installPackage;this.registeredPrecompiledPackages=[];this.registerPrecompiledPackage=function(e,a){this.registeredPrecompiledPackages.push([e,a]);this.registeredPackages.push({provides:e,scriptUrl:null})};function installJs(e){var a={};e.call(a);for(property in a){GLang.defaultRuntimeEnvironment.setInnerVariable(GLang.defaultRuntimeEnvironment.unifyStringName(property),GLang.wrapJsToValue(a[property]))}}this.installJs=installJs;this.supportedLanguages=[{langName:"js",langRunner:function(e,a){installJs(Function(a))}},{langName:"z",langRunner:function(e,a){GLang.eval(a,true)}},{langName:"txt",langRunner:function(e,a){GLang.eval(a,true)}},{langName:"json",langRunner:function(url,x){var packageInfo=eval("("+x+")");if(packageInfo.requirements){for(var i=0;i<packageInfo.requirements.length;i++){if(GLang.packageManager.registeredPackages.indexOf(packageInfo.requirements[i])!==-1)continue;GLang.packageManager.loadPackageSync(packageInfo.requirements[i])}}GLang.packageManager.register(packageInfo.libraries,url.replace("/platform-packages.json","/packages/"))}},{langName:"k",langRunner:function(e,a){GLang.eval(a,true)}}];this.initialize=initialize}})(this);GLang.eval=function(e,a){if(e.startsWith("#!")){e=e.split("\n").slice(1).join("\n")}var n=a?1:0;GLang.disableRuntimeUpdates+=n;try{var r=GLang.evaluateTree(GLang.generateTree(e),GLang.defaultRuntimeEnvironment);GLang.disableRuntimeUpdates-=n;if(GLang.disableRuntimeUpdates<0){GLang.error("GLang.disableRuntimeUpdates is "+GLang.disableRuntimeUpdates)}return r}catch(e){GLang.disableRuntimeUpdates-=n;throw e}};(function(){var a=[];GLang.notifyGeneralChange=function(){if(GLang.disableRuntimeUpdates)return;for(var e=0;e<a.length;e++){a[e]()}};GLang.notifyVariableChange=GLang.defaultRuntimeEnvironment.notifyVariableChange;GLang.registerVariableListener=GLang.defaultRuntimeEnvironment.registerVariableListener;GLang.registerGeneralListener=function(e){a.push(e)};GLang.disableRuntimeUpdates=0})();GLang.listCookies=function(e){var a=[];var n=e.split(";");for(var r=0;r<n.length;r++){var t=n[r];while(t.charAt(0)==" ")t=t.substring(1,t.length);var i=t.split("=")[0];if(i!=="")a.push(i)}return a};GLang.getCookie=function(e,a){var n=encodeURIComponent(a)+"=";var r=e.split(";");for(var t=0;t<r.length;t++){var i=r[t];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(n)==0)return decodeURIComponent(i.substring(n.length,i.length))}return null};