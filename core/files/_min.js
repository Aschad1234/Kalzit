String.prototype.startsWith=String.prototype.startsWith||function(e){return this.lastIndexOf(e,0)===0};Array.prototype.includes=Array.prototype.includes||function(e){return this.indexOf(e)>=0};this.GLang={returnFalse:function(){return false}};this.KNI=this.KNI||{hasStorage:GLang.returnFalse,hasSynchronousLoader:GLang.returnFalse,hasAsynchronousLoader:GLang.returnFalse};GLang.categorize=function(e,n){var a=true;function r(){a=!a;return a?"_":"__"}function t(e){for(var a=0;a<n.length;a++){var t=n[a];var i=t[1](e);if(i){return[t[0],i]}}return[r(),null]}var i=[null,null];var u=[];var l=[];for(var o=0;o<e.length;o++){var s=e[o];var v=t(s);if(v[0]===i[0]){u.push(s)}else{l.push([i[0],u,i[1]]);u=[s];i=v}}if(u.length>0){l.push([i[0],u,i[1]])}return l.slice(1)};GLang.tokenize=function(e){var n=0;var a=0;return GLang.categorize(e,[["Word",function(e){return e.match("[a-zA-Z_]")}],["Digit",function(e){return e.match("\\d")}],["Space",function(e){return e.match("\\s")}]]).map((function(e){var r={textValue:e[1].join(""),category:e[0]};var t=r.textValue.split("\n");a=t.length>1?t[t.length-1].length:a+r.textValue.length;n+=t.length-1;return r}))};(function(){var e=false;function n(){return{next:function(e){switch(e.category){case"Word":return c(e);case"Digit":return g(e);case"Space":return n()}switch(e.textValue){case"}":return t("",1);case"]":return i("",1);case")":return u("",1);case"'":return o("");case'"':return l("");case"`":return s();case"´":return s()}return L([n(),a(e)])},waiting:true,kind:"waiting"}}function a(e){return{special:e.textValue,kind:"special"}}function r(e,n,a){return function r(t,i){return{next:function(u){if(u.textValue===e){if(i===1){return a(t)}i-=1}else if(u.textValue===n){i+=1}return r(u.textValue+t,i)},kind:"depthBlock"}}}var t=r("{","}",(function(e){return L([n(),d(e)])}));var i=r("[","]",(function(e){return L([n(),{kind:"array",array:GLang.generateTree(e)}])}));var u=r("(",")",(function(a){var r=GLang.generateTree(a,e);if(e&&r.length==1){return L([n(),r[0]])}return L([n(),{kind:"parentheses",parentheses:r}])}));function l(e){return{next:function(a){if(a.textValue==='"')return L([n(),d(e)]);return l(a.textValue+e)},kind:"doubleQuoteBlock"}}function o(e){return{next:function(a){if(a.textValue==="'")return L([n(),d(e)]);return o(a.textValue+e)},kind:"singleQuoteBlock"}}function s(){return{next:function(e){if(e.textValue==="´"||e.textValue==="`")return n();return s()},kind:"commentBlock"}}function v(e){return{next:function(e){return this},error:e,kind:"error"}}function c(e){return{next:function(a){if(a.textValue==="$")return L([n(),d(e.textValue)]);return L([n(),this]).next(a)},name:e.textValue,kind:"name"}}function g(e){return{next:function(a){if(a.textValue===",")return f(e);if(a.textValue==="\\")return L([n(),h(this.num)]);return L([n(),this]).next(a)},num:parseInt(e.textValue),kind:"num"}}function f(e){return{next:function(a){if(a.category==="Digit")return L([n(),p(a,e)]);return v(a)},kind:"commaNumber"}}function p(e,a){return{next:function(e){if(e.textValue==="\\")return L([n(),h(this.num)]);return L([n(),this]).next(e)},num:parseFloat(e.textValue+"."+a.textValue),kind:"num"}}function h(e){return{kind:"num",num:-e}}function d(e){return{string:e,kind:"string"}}function L(e){return{next:function(n){var a=e[0].next(n);if(a.group){return L(a.group.concat(e.slice(1)))}return L([a].concat(e.slice(1)))},group:e,kind:"group"}}function m(e){var n=[];var a=[];for(var r=0;r<e.length;r++){if(e[r].special==="."){n.push(G(a));a=[]}else a.push(e[r])}if(a.length)n.push(G(a));var t=[];for(var r=0;r<n.length;r++){t=t.concat(n[r]);if(r<n.length-1)t.push({kind:"dot",dot:1})}return t}function G(n){for(var a=0;a<n.length;a++){if(n[a].waiting){n.splice(a,1);a--;continue}else if(n[a].special==="?"){var r=[{kind:"name",name:"calcitAnnotate"}];var t=n[a+1];var i=n[a-1];var u={kind:"parentheses",parentheses:[t,{name:"calcitSetType",kind:"name"},i]};n[a]=u;n.splice(a+1,1);n.splice(a-1,1);a=a-2;continue}else if(n[a].special==="@"){var r=[{kind:"name",name:"calcitSetAnnotation"}];var t=n.splice(a+1,1);var i=G(n.splice(a+1,n.length-a-1));n=n.slice(0,a).concat(t).concat(r).concat(i);break}else if(n[a].special==="#"){var r=[{kind:"name",name:"calcitAddComment"}];var t=n.splice(a+1,1);var i=G(n.splice(a+1,n.length-a-1));if(e){n=n.slice(0,a).concat(i)}else{n=n.slice(0,a).concat(t).concat(r).concat(i)}break}else if(n[a].special==="!"){var l=false;switch(a){case n.length-2:var r=G(n.splice(a+1,1));n=n.slice(0,a).concat([{kind:"name",name:"do"},{kind:"name",name:":"}]).concat(r);l=true;break;case n.length-3:var r=G(n.splice(a+1,1));var o=G(n.splice(a+1,1));n=n.slice(0,a).concat(r).concat([{kind:"name",name:":"}]).concat(o);l=true;break}if(l)break;if(a>n.length-2){throw new Error("The character ! is not allowed here. It can be used as follows: !operator firstOperand secondOperand.")}var r=G(n.splice(a+1,1));var t=G(n.splice(a+1,1));var i=G(n.splice(a+1,n.length-a-1));n=n.slice(0,a).concat(t).concat(r).concat(i);break}}return n}GLang.generateTree=function(a,r){e=r;var t=n();var t=GLang.tokenize(a).concat(t).reverse().reduce((e,n)=>e.next(n));t=t.group?t.group:[t];return m(t)}})();GLang.scopePrototype={notifyVariableChange:function(e){if(GLang.disableRuntimeUpdates)return;for(var n=0;n<this.variableUpdateFunctions.length;n++){var a=this.variableUpdateFunctions[n];if(a.varName===e){a.update()}}GLang.notifyGeneralChange()},registerVariableListener:function(e,n){this.variableUpdateFunctions.push({varName:this.unifyStringName(e),update:n})},resolveUnknownName:"calcit_resolve_unknown",resolveName:function(e){var n=this.unifyStringName(e);var a=this["kv_"+n];if(a){return a.varValue}else if(GLang.packageManager.installPackage(n)){return GLang.defaultRuntimeEnvironment["kv_"+n].varValue}else if(n!==this.resolveUnknownName){return GLang.callObject(this.resolveName(this.resolveUnknownName),null,[GLang.stringValue(n)])}else{return{value:GLang.voidValue.value,varName:this.resolveUnknownName}}},unifyStringName:function(e){if("string"!==typeof e)throw new Error("unifyStringName only accepts strings - "+JSON.stringify(e)+" does not fit this rule");if(e===""){return""}if(e.includes("_")||e===e.toUpperCase()){return e.toLowerCase()}var n=e.replace(/[A-Z]/g,e=>"_"+e.toLowerCase());if(n.startsWith("_")){return n.slice(1)}else{return n}},setInnerVariable:function(e,n,a,r){if(!e.match("[a-zA-Z_]+")){throw new Error(e+" is not a valid variable name!")}e=this.unifyStringName(e);if(this.hasOwnProperty("kv_"+e)){var t=this["kv_"+e];if(a){var i=t.varType?GLang.callObject(t.varType,this,[n]):n;var u=t.varValue;if(u!==i){t.varValue=i;this.notifyVariableChange(e)}return i}else{throw new Error("Not allowed to change variable $"+e)}}var l={varName:e,varValue:r?GLang.callObject(r,this,[n],r):n,varType:r};this["kv_"+e]=l;this.notifyVariableChange(e);return l.varValue},setInnerWithoutListeners:function(e,n){e=this.unifyStringName(e);this["kv_"+e]={varName:e,varValue:n}},hasInnerVariable:function(e){return this.hasOwnProperty("kv_"+this.unifyStringName(e))}};GLang.RuntimeEnvironment=function(e){var n=Object.create(e||GLang.scopePrototype);n.variableUpdateFunctions=[];return n};GLang.createFunctionScope=function(e,n,a){var r=new GLang.RuntimeEnvironment(e);n=n.value||[];for(var t=0;t<n.length;t++){if("string"!==typeof n[t].value)throw new Error("Every entry of an argument list needs to be a string value - "+JSON.stringify(n[t])+" does not fit this rule");var i=a.length>t?a[t]:GLang.voidValue;r.setInnerWithoutListeners(n[t].value,GLang.getType(n[t])?GLang.callObject(GLang.getType(n[t]),e,[i]):i)}return r};GLang.callObject=function(e,n,a){try{if(typeof e!=="object"){throw new Error("Values have to be 'normal' objects, not functions. Trying to call: "+r)}else{var r=e.value;switch(typeof r){case"function":return r(n,a);case"string":return GLang.functionFromString(r,e.environment||n).value(n,a);default:return e}}}catch(n){GLang.error("Tried to call:");GLang.print(e);if(e.annotations){for(var t=0;t<e.annotations.length;t++){var i=e.annotations[t];if(i.value.length===2&&i.value[0].value==="comment"){GLang.print("# "+i.value[1].value)}}}GLang.print("With parameters:");GLang.print(a);GLang.error(n);GLang.error(n.message);return{value:[],error:n,annotations:[{value:[GLang.stringValue("error"),GLang.stringValue(n.message)]}]}}};GLang.getAnnotationType=function(e){var n=e.display;if(n==="string"||n==="function"){return"function"}if(!(e.value instanceof Array&&e.value.length===2)){return"invalid"}return"array"};GLang.applyFlag=function(e,n){var a=GLang.defaultRuntimeEnvironment.resolveName("flag_"+GLang.defaultRuntimeEnvironment.unifyStringName(GLang.at(0,n).value));GLang.callObject(a,GLang.defaultRuntimeEnvironment,[GLang.at(1,n),e])};GLang.applyArrayAnnotation=function(e,n,a){if(n.value[0].value==="flag"){GLang.applyFlag(e,n.value[1]);return}a(e,n)};GLang.applyAnnotation=function(e,n,a){switch(GLang.getAnnotationType(n)){case"function":GLang.callObject(n,GLang.defaultRuntimeEnvironment,[e]);break;case"array":GLang.applyArrayAnnotation(e,n,a);break;default:throw new Error("An annotation needs to be an array with two values, or a function - "+n.value+" does not fit this rule")}};GLang.addAnnotation=function(e,n){GLang.applyAnnotation(e,n,(function(){e.annotations=e.annotations||[];e.annotations.push(n)}))};GLang.setAnnotation=function(e,n){GLang.applyAnnotation(e,n,(function(){e.annotations=e.annotations||[];for(var a=0;a<e.annotations.length;a++){if(GLang.eq(e.annotations[a].value[0].value,n.value[0].value)){e.annotations[a]=n;return}}e.annotations.push(n)}))};GLang.getFirstAnnotation=function(e,n){if(!e.annotations)return undefined;for(var a=0;a<e.annotations.length;a++){if(GLang.eq(e.annotations[a].value[0].value,n.value)){return e.annotations[a].value[1]}}};GLang.getNamedAnnotations=function(e,n){if(!e.annotations)return[];var a=[];for(var r=0;r<e.annotations.length;r++){if(GLang.eq(e.annotations[r].value[0].value,n.value)){a.push(e.annotations[r].value[1])}}return a};GLang.getType=function(e){if(e.annotations){for(var n=0;n<e.annotations.length;n++){if(e.annotations[n].value[0].value==="type"){return e.annotations[n].value[1]}}}};GLang.functionFromString=function(e,n){return GLang.functionFromTree(GLang.generateTree(e),n,{value:[{value:"x"},{value:"y"}]})};GLang.functionFromTree=function(e,n,a,r){var t={value:function(t,i){var u=GLang.createFunctionScope(n,a,i);var l=GLang.evaluateTree(e,u);return r?GLang.callObject(r,t,[l]):l},display:"function"};GLang.setAnnotation(t,{value:[GLang.stringValue("argumentList"),a]});return t};GLang.evaluateTree=function(e,n){var a=[];var r=GLang.voidValue;for(var t=0;t<e.length;t++){if(e[t].dot){r=GLang.evaluateSentence(a,n);a=[]}else{a.push(e[t])}}if(a.length){r=GLang.evaluateSentence(a,n)}return r};GLang.evaluateSentence=function(e,n){var a=e.length;if(a===0)return GLang.voidValue;if(0===a%2){e=e.splice(0,1).concat([{kind:"special",special:":"}]).concat(e);a++}if(a===1)return GLang.evaluateSentenceFragment(e[0],n);return GLang.evaluateOperation([e[0]],[e[1]],e.slice(2),n)};GLang.evaluateOperation=function(e,n,a,r){var t=GLang.evaluateTree(e,r);var i=GLang.evaluateTree(a,r);var u=GLang.evaluateTree(n,r);return GLang.callObject(u,r,[t,i])};GLang.evaluateSentenceFragment=function(e,n){switch(e.kind){case"string":var a=GLang.stringValue(e.string);a.environment=n;return a;case"num":return{value:e.num};case"name":return n.resolveName(e.name);case"parentheses":return GLang.evaluateTree(e.parentheses,n);case"array":return{value:[GLang.evaluateTree(e.array,n)]};case"special":return n.resolveName(e.special);default:console.error(e)}};(function(e){GLang.defaultRuntimeEnvironment=new GLang.RuntimeEnvironment;function n(e){if(e===undefined||e===null){return GLang.voidValue}return{value:e,display:"string"}}GLang.stringValue=n;GLang.voidValue={value:[],display:"none"};function a(e){if(!e.value){e={value:e}}function n(a,r){var t=r.length;if(t===0){return GLang.callObject(e,a,[])}if(t>2){throw new Error("You can not call an array function with more than two parameters. (You should never call a function with more than two parameters)")}var r=r.slice(0,r.length);if(t===1){r.push({value:0})}var i=r[0];if(GLang.eq(i.value,[]))return{value:[]};var u=r[1];if(GLang.eq(u.value,[]))return{value:[]};var l=[];if(i.value instanceof Array||u.value instanceof Array){i=i.value instanceof Array?i:{value:[i]};u=u.value instanceof Array?u:{value:[u]};var o=i.value.length,s=u.value.length;var v=Math.max(o,s);for(var c=0;c<v;c++){if(!u.value.length){l.push(n(a,[i.value[c%o]]))}else{l.push(n(a,[i.value[c%o],u.value[c%s]]))}}return{value:l,display:u.display||i.display}}if(t==1){return GLang.callObject(e,a,[i])}else{return GLang.callObject(e,a,[i,u])}}return n}GLang.arrayFun=a;function r(e,n){var a=n.value;if(a instanceof Array&&a.length===0)return{value:[]};if(e instanceof Array){var t=[];for(var i=0;i<e.length;i++){t.push(r(e[i].value,n))}return{value:t}}if(!(a instanceof Array)){a=[{value:a}]}return a[e%a.length]}GLang.at=r;GLang.printValue=GLang.printValue||function(e){GLang.print(e.value)};GLang.eq=function e(n,a){if(n instanceof Array&&a instanceof Array){if(n.length!==a.length)return false;for(var r=0;r<n.length;r++){if(!GLang.eq(n[r].value,a[r].value))return false}return true}return n===a};var t=[{varName:"+",varValue:{value:a((function(e,n){return{value:n[0].value+n[1].value,display:n[0].display||n[1].display}}))}},{varName:"-",varValue:{value:a((function(e,n){return{value:n[0].value-n[1].value}}))}},{varName:"%",varValue:{value:a((function(e,n){return{value:n[0].value/n[1].value}}))}},{varName:"*",varValue:{value:a((function(e,n){return{value:n[0].value*n[1].value}}))}},{varName:"/",varValue:{value:function(e,n){if(!(n[1].value instanceof Array)){n[1]={value:[n[1]]}}if(n[1].value.length===0)return{value:[]};var a=n[1].value[n[1].value.length-1];if(n[1].value.length===1)return a;for(var r=n[1].value.length-2;r>=0;r--){a=GLang.callObject(n[0],e,[n[1].value[r],a])}return a}}},{varName:"print",varValue:{value:function(e,n){GLang.printValue(n[0]);return n[0]}}},{varName:"array",varValue:{value:function(e,n){return{value:n}}}},{varName:"fun",varValue:{value:function(e,n){var a=n[0];if(!(a.value instanceof Array)){a=[a]}else{a=a.value}if(a.length>2){throw new Error("Functions can not have more than two parameters")}var r=n[1].value;var t=GLang.getType(n[1]);if("string"===typeof r)r=GLang.generateTree(r);var i=GLang.functionFromTree(r,e,{value:a},t);for(var u=0;u<a.length;u++){if((a[u].value+"").startsWith("_")){return i}}var l={value:GLang.arrayFun((function(e,n){return GLang.callObject(i,e,n)})),display:"function"};GLang.setAnnotation(l,{value:[GLang.stringValue("argumentList"),{value:a}]});return l}}},{varName:";",varValue:{value:function(e,n){var a=n[0];if(!(a.value instanceof Array)){a={value:[a]}}var r=n[1];if(!(r.value instanceof Array)){r={value:[r]}}return{value:[].concat(a.value,r.value)}}}},{varName:":",varValue:{value:function(e,n){return GLang.callObject(n[0],e,[n[1]])}}},{varName:"=",varValue:{value:function(e,n){var a=n[0].value,r=e,t=false;if("string"!==typeof a)throw new Error("First argument of = has to be a string or reference - "+JSON.stringify(a)+" does not fit this rule");if(n[0].display==="reference"){r=n[0].environment;t=true}return r.setInnerVariable(a,n[1],t,GLang.getType(n[0]))}}},{varName:"range",varValue:{value:a((function(e,n){var a=[];if(n[0].value<=n[1].value){for(var r=n[0].value;r<=n[1].value;r++){a.push({value:r})}}else{for(var r=n[0].value;r>=n[1].value;r--){a.push({value:r})}}return{value:a}}))}},{varName:"void",varValue:GLang.voidValue},{varName:"eq",varValue:{value:function(e,n){return{value:GLang.eq(n[0].value,n[1].value)?1:0}}}},{varName:"<",varValue:{value:a((function(e,n){return{value:n[0].value<n[1].value?1:0}}))}},{varName:">",varValue:{value:a((function(e,n){return{value:n[0].value>n[1].value?1:0}}))}},{varName:"^",varValue:{value:a((function(e,n){return{value:n[0].value**n[1].value}}))}},{varName:"mod",varValue:{value:a((function(e,n){return{value:n[0].value%n[1].value}}))}},{varName:"|",varValue:{value:a((function(e,n){return n[0].value<n[1].value?n[1]:n[0]}))}},{varName:"&",varValue:{value:a((function(e,n){return n[0].value<n[1].value?n[0]:n[1]}))}},{varName:"at",varValue:{value:function(e,n){return r(n[0].value,n[1])}}},{varName:"reference",varValue:{value:function(e,n){if(n[0].display==="reference"){return n[0]}return{value:n[0].value,display:"reference",environment:e,name:n[0].value}}}},{varName:"display_type",varValue:{value:function(e,n){return GLang.stringValue(n[0].display||"default")}}},{varName:"resolve_reference",varValue:{value:function(e,n){var a=n[0];return a.environment.resolveName(a.name)}}}];for(var i=0;i<t.length;i++){GLang.defaultRuntimeEnvironment["kv_"+t[i].varName]=t[i]}})(this);GLang.wrapJsToValue=function e(n){if(n===null||n===undefined||n!==n)return GLang.voidValue;switch(typeof n){case"string":return GLang.stringValue(n);case"boolean":return{value:n?1:0}}if(n instanceof Function){var a=n;var r=function(n,r){var t=r.map(e=>e.value);return e(a(...t))};var t=a.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/);var i=true;for(var u=0;u<t.length;u++){if(t[u].startsWith("_")){i=false;break}}if(i)r=GLang.arrayFun(r);return{value:r,display:"function",argumentList:t}}if(n instanceof Array){return{value:n.map(e=>GLang.wrapJsToValue(e))}}if(n instanceof Object){var l=[];for(prop in n){l.push({value:[GLang.stringValue(prop),GLang.wrapJsToValue(n[prop])]})}return{value:l}}return{value:n}};GLang.wrapValueToJsObject=function(e){e=e.value;if(e instanceof Array){var n={};for(var a=0;a<e.length;a++){if(e[a].value.length===2&&"string"===typeof GLang.at(0,e[a]).value){n[GLang.at(0,e[a]).value]=GLang.wrapValueToJsObject(GLang.at(1,e[a]))}else{var r=[];for(var a=0;a<e.length;a++){r[a]=GLang.wrapValueToJsObject(e[a])}return r}}return n}else{return e}};(function(global){function loadPackageSync(e){var n=e.split(".");var a=n[n.length-1];var r=this.supportedLanguages["lang_"+a];if(r){try{r(e,this.loadUrl(e))}catch(e){GLang.error(e)}return}GLang.error("Unsupported language for packages: "+a)}function register(e,n){if(e instanceof Array){for(var a=0;a<e.length;a++){this.register(e[a],n)}return}for(var r=0;r<this.registeredPackages.length;r++){var t=this.registeredPackages[r];if(t.provides===e.provides){GLang.error("The name "+t.provides+" is already provided by "+t)}}if(n){e.scriptUrl=n+e.scriptUrl}this.registeredPackages.push(e)}function validatePackageVariables(e){for(var n=0;n<e.length;n++){if(!GLang.defaultRuntimeEnvironment.hasInnerVariable(e[n])){throw new Error("A package has claimed to provide the variable "+e[n]+" - but it does not")}}}function installPackage(e){if(GLang.debug)GLang.log("Looking for name "+e);for(var n=0;n<this.registeredPrecompiledPackages.length;n++){var a=this.registeredPrecompiledPackages[n];if(a[0].includes(e)){GLang.evaluateTree(a[1],GLang.defaultRuntimeEnvironment);validatePackageVariables(a[0]);return true}}for(var n=0;n<this.registeredPackages.length;n++){var a=this.registeredPackages[n];for(var r=0;r<a.provides.length;r++){if(a.provides[r]===e){this.loadPackageSync(a.scriptUrl,a.scriptType);validatePackageVariables(a.provides,a.scriptUrl);return true}}}return false}function initialize(e){for(var n=0;n<e.length;n++){this.loadPackageSync(e[n])}}GLang.PackageManager=function(){this.loadPackageSync=loadPackageSync;this.registeredPackages=[];this.hiddenRegisteredPackages=[];this.installedUrls=[];this.register=register;this.installPackage=installPackage;this.registeredPrecompiledPackages=[];this.registerPrecompiledPackage=function(e,n){this.registeredPrecompiledPackages.push([e,n]);this.registeredPackages.push({provides:e,scriptUrl:null})};function installJs(e){var n={};e.call(n);for(property in n){GLang.defaultRuntimeEnvironment.setInnerVariable(GLang.defaultRuntimeEnvironment.unifyStringName(property),GLang.wrapJsToValue(n[property]))}}this.installJs=installJs;this.supportedLanguages={lang_js:function(e,n){installJs(Function(n))},lang_txt:function(e,n){GLang.eval(n,true)},lang_json:function(url,x){var packageInfo=eval("("+x+")");if(packageInfo.requirements){for(var i=0;i<packageInfo.requirements.length;i++){if(GLang.packageManager.registeredPackages.indexOf(packageInfo.requirements[i])!==-1)continue;GLang.packageManager.loadPackageSync(packageInfo.requirements[i])}}GLang.packageManager.register(packageInfo.libraries,url.replace("/platform-packages.json","/packages/"))},lang_k:function(e,n){GLang.eval(n,true)}};this.initialize=initialize}})(this);GLang.eval=function(e,n){if(e.startsWith("#!")){e=e.split("\n").slice(1).join("\n")}var a=n?1:0;GLang.disableRuntimeUpdates+=a;try{var r=GLang.evaluateTree(GLang.generateTree(e),GLang.defaultRuntimeEnvironment);GLang.disableRuntimeUpdates-=a;if(GLang.disableRuntimeUpdates<0){GLang.error("GLang.disableRuntimeUpdates is "+GLang.disableRuntimeUpdates)}return r}catch(e){GLang.disableRuntimeUpdates-=a;console.error(e);throw e}};GLang.stringify=function(e){try{return JSON.stringify(e)}catch(a){var n=[GLang.defaultRuntimeEnvironment];return JSON.stringify(e,(function(e,a){if(a!=null&&typeof a=="object"){if(n.indexOf(a)>=0){return}n.push(a)}return a}))}};(function(){var e=[];GLang.notifyGeneralChange=function(){if(GLang.disableRuntimeUpdates)return;for(var n=0;n<e.length;n++){e[n]()}};GLang.notifyVariableChange=GLang.defaultRuntimeEnvironment.notifyVariableChange;GLang.registerVariableListener=GLang.defaultRuntimeEnvironment.registerVariableListener;GLang.registerGeneralListener=function(n){e.push(n)};GLang.disableRuntimeUpdates=0})();GLang.listCookies=function(e){var n=[];var a=e.split(";");for(var r=0;r<a.length;r++){var t=a[r];while(t.charAt(0)==" ")t=t.substring(1,t.length);var i=t.split("=")[0];if(i!=="")n.push(i)}return n};GLang.getCookie=function(e,n){var a=encodeURIComponent(n)+"=";var r=e.split(";");for(var t=0;t<r.length;t++){var i=r[t];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(a)==0)return decodeURIComponent(i.substring(a.length,i.length))}return null};