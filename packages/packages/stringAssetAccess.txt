$stringAssetAccess = ($_prefix ? ("/assets/strings/" default String) ; $_loader ? (default: {loadLocal: x})) fun {
	$object = parseJson: _loader: _prefix + "default.json".
	($key ? String) fun {
		(calcitUnifyName: key) objFirstProperty object
	}
}.
$localizedStringAssetAccess = ($_prefix ? ("/assets/strings/" default String) ; $_loader ? (default: {loadLocal: x})) fun {
	$localizedStrings = (_prefix + (do: getUserLanguage) + "/") stringAssetAccess _loader.
	$localizedStringsFallback = (_prefix + (do: getSimpleUserLanguage) + "/") stringAssetAccess _loader.
	$fallbackStrings = _prefix stringAssetAccess _loader.
	
	($key) fun {
		$localized = localizedStrings: key.
		!ifElse (void eq localized) {
			$simpleLocalized = localizedStringsFallback: key.
			!ifElse (void eq simpleLocalized) {
				fallbackStrings: key
			};{simpleLocalized}
		};{localized}
	}
}.

$strings = do: localizedStringAssetAccess.