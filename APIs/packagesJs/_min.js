this.calcitCompile=function(code,optimized){return JSON.stringify(GLang.generateTree(code,optimized))};this.PI=Math.PI;this.E=Math.E;this.floor=function(num){return Math.floor(num)};this.abs=function(num){return Math.abs(num)};this.nativeFileMime=function(extension){switch(extension){case"html":return"text/html";case"js":return"text/javascript";case"txt":return"text/plain";case"jpg":return"image/jpg";case"mp4":return"video/mp4";case"svg":return"image/svg+xml";case"json":return"application/json";default:return"*"}};(function(thiz){var firstInvalidConversion=true;function invalidNumberConversion(numberlikeValue){if(firstInvalidConversion){var out;try{if(alert!==undefined)out=alert;else out=function(m){console.log("DEBUG: "+m)}}catch(e){out=function(m){console.log("DEBUG: "+m)}}out("This app attempted to convert an invalid value ("+numberlikeValue+") to a number internally. This probably indicates a bug in this app and means that it might not work as you would expect. If you see this message again or if the app does something unexpected, please let the developer know about it. This message will not show up again until you reload the page.");firstInvalidConversion=false}console.error(new Error("The value "+numberlikeValue+" is not a number and can not be converted to one"));return 0}thiz.float=function(numberlikeValue){var f=parseFloat(numberlikeValue+"");if(f!==f||f===null){return invalidNumberConversion(numberlikeValue)}return f};thiz.int=function(numberlikeValue){var i=parseInt(numberlikeValue+"");if(i!==i||i===null){return invalidNumberConversion(numberlikeValue)}return i}})(this);this.isIosApp=window.navigator.standalone==true;this.isAndroidApp=window.matchMedia("(display-mode: standalone)").matches;this.random=Math.random;this.match=function(regexString,stringToMatch){return stringToMatch.match(regexString)};this.allMatches=function(regexString,stringToMatch){var re=new RegExp(regexString,"g");var s=stringToMatch;var m;var result=[];do{m=re.exec(s);if(m){result.push(m)}}while(m);return result};this.strReplaceRegex=function(_regexAndReplacement,original){return original.replace(new RegExp(_regexAndReplacement[0].value,"g"),_regexAndReplacement[1].value)};this.strBytes=function(string){var chars=[];for(var i=0;i<string.length;++i){var code=string.charCodeAt(i);chars=chars.concat([code&255,code/256>>>0])}return chars};this.urlGetParameter=function(parameterName,url){try{if(url.split("?").length!==2)return null;var vars=url.split("?")[1].split("&");for(var i=0;i<vars.length;i++){var pair=vars[i].split("=");if(decodeURIComponent(pair[0])===parameterName){return decodeURIComponent(pair[1])}}return null}catch(e){return null}};this.urlEncodeParameter=function(urlParameter){try{return encodeURIComponent(urlParameter)}catch(e){return null}};this.urlDecodeParameter=function(urlParameter){try{return decodeURIComponent(urlParameter)}catch(e){return null}};