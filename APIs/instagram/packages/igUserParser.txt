$igUserParseUserComplete = ($userName ? String) fun {
	$script = second: ".*<script\s+.*>(.*)<\s*/\s*script\s*>.*" match loadGlobal: "https://www.instagram.com/" + userName + "/".
	$json = second: "window\._sharedData\s*=\s*(.*)\s*;" match script.
	parseJson: json
}.
$igUserParseBase = $_igUserComplete fun {
	$user propOf $graphql propOf first: $ProfilePage propOf $entry_data propOf _igUserComplete
}.
$igUserParseUserBase = ($userName ? String) fun {
	igUserParseBase: igUserParseUserComplete: userName
}.
$igUserParseImages = $_igUserBase fun {
	{$node propOf x} each $edges propOf $edge_owner_to_timeline_media propOf _igUserBase
}.
$igUserParseUserImages = ($userName ? String) fun {
	igUserParseImages: igUserParseUserBase: userName
}.
$igUserParseImageUrl = $_userImage fun {
	$display_url propOf _userImage
} ? Image.
$igUserParseImageUrls = $_userImages fun {
	igUserParseImageUrl each _userImages
} ? Images.
$igUserParseUserImageUrls = ($userName ? String) fun {
	igUserParseImageUrls: igUserParseUserImages: userName
} ? Images.
$igUserParseImageShortcode = $_userImage fun {
	$shortcode propOf _userImage
}.
$igUserParseImageShortcodes = $_userImages fun {
	igUserParseImageShortcode each _userImages
}.
$igUserParseUserImageShortcodes = ($userName ? String) fun {
	igUserParseImageShortcodes: igUserParseUserImages: userName
}.
$igUserParseImageThumbnail = $_userImage fun {
	$thumbnail_resources propOf _userImage
}.
$igUserParseImageThumbnails = $_userImages fun {
	igUserParseImageThumbnail each _userImages
}.
$igUserParseUserImageThumbnails = ($userName ? String) fun {
	igUserParseImageThumbnails: igUserParseUserImages: userName
}.