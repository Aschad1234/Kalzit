$registeredDesktopTools ? ModifiableList = ().
$registerDesktopTool = ($toolFactory) fun {
	($push propOf registeredDesktopTools): toolFactory.
}.
$generateDesktopToolbarOverlay = () fun {
	@(cssClass: "k-desktop_only") uiToolbarOverlay: 
		[@verticalCenter @dynamicSize @left @(percentWidth !ifElse developerMode 89;94) uiContainer:
			{@verticalCenter @dynamicSize do:x} each getArray: registeredDesktopTools
		];
		[
			@verticalCenter @right @(percentHeight 50) @(percentWidth !ifElse developerMode 10;5) uiContainer:
				(!ifElse developerMode
					{
						[@(percentWidth 40) !uiAppsButton];
						[uiHorizontalPercentSpace 10]
					};
					{uiHorizontalPercentSpace 50}
				);
				[@(percentWidth !ifElse developerMode 40;90) !uiUserButton];
				[uiHorizontalPercentSpace 10]
		].
}.